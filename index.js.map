{"version":3,"file":"index.js","sources":["../src/JS/pixabay-api.js","../src/JS/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotosByQuery = async searchedQuery => {\n  const searchParams = new URLSearchParams({\n    key: '48318728-33e02a537f20daf55b07c1f54',\n    q: searchedQuery.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  try {\n    const response = await fetch(`https://pixabay.com/api/?${searchParams}`);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const data = await response.json();\n\n    return data;\n  } catch (error) {\n    console.error('Error fetching data:', error.message);\n    throw error;\n  }\n};","export const createGalleryTemplate = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => `\n  <div class=\"photo-card\">\n    <a href=\"${largeImageURL}\" class=\"photo-link\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    </a>\n    <div class=\"info\">\n      <p><b>Likes:</b> ${likes}</p>\n      <p><b>Views:</b> ${views}</p>\n      <p><b>Comments:</b> ${comments}</p>\n      <p><b>Downloads:</b> ${downloads}</p>\n    </div>\n  </div>`;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchPhotosByQuery } from './JS/pixabay-api';\nimport { createGalleryTemplate } from './JS/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './css/loader.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nconst lightbox = new SimpleLightbox('.js-gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  galleryEl.innerHTML = '';\n\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n  if (searchedQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please fill in the search form!',\n    });\n    return;\n  }\n\n  loaderEl.style.display = 'block';\n\n  fetchPhotosByQuery(searchedQuery)\n    .then(data => {\n      if (!data.hits || data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        searchFormEl.reset();\n        return;\n      }\n\n      const galleryTemplate = data.hits\n        .map(el => createGalleryTemplate(el))\n        .join('');\n      galleryEl.innerHTML = galleryTemplate;\n\n      lightbox.refresh();\n      iziToast.success({\n        title: 'Success',\n        message: `Found ${data.totalHits || 0} images.`,\n      });\n\n      searchFormEl.reset();\n    })\n    .catch(err => {\n      console.error('Error fetching photos:', err);\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later!',\n      });\n    })\n    .finally(() => {\n      loaderEl.style.display = 'none';\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["fetchPhotosByQuery","searchedQuery","searchParams","response","error","createGalleryTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","err"],"mappings":"6vBAAO,MAAMA,EAAqB,MAAMC,GAAiB,CACvD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EAAc,KAAM,EACvB,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,GAAI,CACF,MAAME,EAAW,MAAM,MAAM,4BAA4BD,CAAY,EAAE,EAEvE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAK1D,OAFa,MAAMA,EAAS,MAG7B,OAAQC,EAAO,CACd,cAAQ,MAAM,uBAAwBA,EAAM,OAAO,EAC7CA,CACP,CACH,ECvBaC,EAAwB,CAAC,CACpC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IAAM;AAAA;AAAA,eAESL,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yBAGnBC,CAAK;AAAA,yBACLC,CAAK;AAAA,4BACFC,CAAQ;AAAA,6BACPC,CAAS;AAAA;AAAA,UCThCC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpBL,EAAU,UAAY,GAEtB,MAAMb,EAAgBkB,EAAM,cAAc,SAAS,WAAW,MAAM,OACpE,GAAIlB,IAAkB,GAAI,CACxBmB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iCACf,CAAK,EACD,MACD,CAEDL,EAAS,MAAM,QAAU,QAEzBf,EAAmBC,CAAa,EAC7B,KAAKoB,GAAQ,CACZ,GAAI,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCD,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACDP,EAAa,MAAK,EAClB,MACD,CAED,MAAMS,EAAkBD,EAAK,KAC1B,IAAIE,GAAMlB,EAAsBkB,CAAE,CAAC,EACnC,KAAK,EAAE,EACVT,EAAU,UAAYQ,EAEtBN,EAAS,QAAO,EAChBI,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,SAASC,EAAK,WAAa,CAAC,UAC7C,CAAO,EAEDR,EAAa,MAAK,CACxB,CAAK,EACA,MAAMW,GAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAG,EAC3CJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,EAAS,MAAM,QAAU,MAC/B,CAAK,CACL,EAEAF,EAAa,iBAAiB,SAAUK,CAAkB"}